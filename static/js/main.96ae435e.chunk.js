(this["webpackJsonpcoin-trader"]=this["webpackJsonpcoin-trader"]||[]).push([[0],{176:function(e,t,i){},177:function(e,t,i){},180:function(e,t,i){},318:function(e,t,i){},319:function(e,t,i){"use strict";i.r(t);var n,c=i(1),r=i.n(c),l=i(60),s=i.n(l),a=(i(176),i(16)),o=(i(177),i(71)),d=i(32),u=i.n(d),j=i(164),b=i(107),h=i(163),v=i(328),O={cash:2e3,coins:0},x=function(e){return Math.random()*e*.03*(Math.random()>.5?1:-1)};i(145);!function(e){e[e.Buy=0]="Buy",e[e.Sell=1]="Sell"}(n||(n={}));var m=i(3);function p(e){var t=e.currentPrice,i=e.PL,n=e.realizedPL;return Object(m.jsx)("div",{className:"detail",children:Object(m.jsx)("table",{children:Object(m.jsxs)("tbody",{children:[Object(m.jsxs)("tr",{children:[Object(m.jsx)("td",{children:"Coin Current Price"}),Object(m.jsx)("td",{style:{color:"gold",fontFamily:'"Lucida Console", Monaco, monospace',fontWeight:"500",textAlign:"right",width:"40%"},children:Object(m.jsx)(u.a,{preserveValue:!0,end:t,decimals:2,duration:.5,useEasing:!0,prefix:"$"})})]}),Object(m.jsxs)("tr",{children:[Object(m.jsx)("td",{children:"Profit/Loss"}),Object(m.jsx)("td",{style:{color:i>=0?"#43a334":"#ec5e33",fontFamily:'"Lucida Console", Monaco, monospace',textAlign:"right"},children:Object(m.jsx)(u.a,{preserveValue:!0,end:i,decimals:2,duration:.5,useEasing:!0,prefix:"$"})})]}),Object(m.jsxs)("tr",{children:[Object(m.jsx)("td",{children:"Realized Profit/Loss"}),Object(m.jsx)("td",{style:{color:n>=0?"#43a334":"#ec5e33",fontFamily:'"Lucida Console", Monaco, monospace',textAlign:"right"},children:Object(m.jsx)(u.a,{preserveValue:!0,end:n,decimals:2,duration:.5,useEasing:!0,prefix:"$"})})]})]})})})}var f=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,n=0;if("number"===typeof e?n=e:(null===t&&(t=new Date),n=Math.ceil((t.getTime()-e.getTime())/1e3)),n<2)return"now";var c=Math.floor(n/86400),r=Math.floor(n%86400/3600),l=Math.floor(n%3600/60),s=Math.floor(n%60),a=c>0?c+(1===c?" day":" days"):null,o=r>0?r+(1===r?" hour":" hours"):null,d=l>0?l+(1===l?" min":" mins"):null,u=s>0?s+(s<=1?" sec":" secs"):null,j=[a,o,d,u].filter(Boolean);return"".concat(j[0]," ").concat(i).trim()},g=(i(180),function(e){var t=e.orders,i=e.name,n=Object(c.useState)(new Date),r=Object(a.a)(n,2),l=r[0],s=r[1];return Object(c.useEffect)((function(){var e=setInterval((function(){s(new Date)}),1e3);return function(){return clearInterval(e)}}),[]),Object(m.jsx)(m.Fragment,{children:t.length>0?Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)("div",{className:"vignette"}),Object(m.jsx)("ul",{children:t.sort((function(e,t){return t.orderNumber-e.orderNumber})).map((function(e){return Object(m.jsxs)("li",{className:"fadeIn",children:[Object(m.jsx)("span",{style:{color:"#5d6574"},children:f(e.date,l,"ago")})," [Order #",e.orderNumber,"] $",e.price.toFixed(2)]},e.id)}))})]}):Object(m.jsxs)("div",{style:{display:"flex",height:"100%",alignItems:"center",justifyContent:"center",filter:"grayscale(0.25)"},children:["No ",i," yet"]})})}),y=i(321),S=i(322),N=i(326),w=i(161),M=i(162),A=i(72),E=i(68),F=i(153),P=i(166),C={id:null,timeStamp:"",price:Number.MAX_VALUE},L={id:null,timeStamp:"",price:-Number.MAX_VALUE};function k(e){var t,i,n,c,r,l,s,a,o,d,u,j,b,h,v=e.prices,O=e.bep,x=v.find((function(e){return(null===e||void 0===e?void 0:e.price)===v.reduce((function(e,t){return(null===t||void 0===t?void 0:t.price)>e?null===t||void 0===t?void 0:t.price:e}),0)})),p=v.find((function(e){return(null===e||void 0===e?void 0:e.price)===v.reduce((function(e,t){return(null===t||void 0===t?void 0:t.price)<e?null===t||void 0===t?void 0:t.price:e}),Number.MAX_VALUE)}));(null===x||void 0===x?void 0:x.price)>(null===(t=L)||void 0===t?void 0:t.price)&&(L=x),(null===p||void 0===p?void 0:p.price)<(null===(i=C)||void 0===i?void 0:i.price)&&(C=p);var f=O>0?Math.max(null!==(n=null===(c=L)||void 0===c?void 0:c.price)&&void 0!==n?n:0,O):null!==(r=null===(l=L)||void 0===l?void 0:l.price)&&void 0!==r?r:0,g=O>0?Math.min(null!==(s=null===(a=C)||void 0===a?void 0:a.price)&&void 0!==s?s:0,O):null!==(o=null===(d=C)||void 0===d?void 0:d.price)&&void 0!==o?o:0,k=[L.id?null===(u=L)||void 0===u?void 0:u.price:null===x||void 0===x?void 0:x.price,C.id?null===(j=C)||void 0===j?void 0:j.price:null===p||void 0===p?void 0:p.price,O].filter((function(e){return e===+e})).sort((function(e,t){return e-t}));return Object(m.jsx)("div",{style:{backgroundColor:"#292d36"},children:Object(m.jsx)(y.a,{width:"100%",height:"100%",children:Object(m.jsxs)(S.a,{width:500,height:300,data:v,margin:{top:20,right:30,left:10,bottom:10},children:[Object(m.jsx)(N.a,{strokeDasharray:"3 3"}),Object(m.jsx)(w.a,{dataKey:"timeStamp"}),Object(m.jsx)(M.a,{dataKey:"price",domain:[Math.floor(g-5),Math.ceil(f+5)]}),Object(m.jsx)(M.a,{dataKey:"price",domain:[Math.floor(g-5),Math.ceil(f+5)],tickCount:k.length,ticks:k,yAxisId:"right",orientation:"right"}),Object(m.jsx)(A.a,{}),Object(m.jsx)(E.a,{}),(null===v||void 0===v?void 0:v.length)>0&&Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(F.a,{y:null===(b=L)||void 0===b?void 0:b.price,stroke:"red",label:"Max"}),Object(m.jsx)(F.a,{y:null===(h=C)||void 0===h?void 0:h.price,stroke:"blue",label:"Min"})]}),O>0&&Object(m.jsx)(F.a,{y:O,stroke:"green",label:"B.E.P."}),Object(m.jsx)(P.a,{dataKey:"price",dot:!1,isAnimationActive:!1,stroke:"#8884d8",strokeWidth:2,unit:"$"})]})})})}i(318);var D=.5,B=function(e){var t=e.orders,i=e.initialPrices,r=e.setOrders,l=e.wallet,s=e.setWallet,d=Object(c.useState)(i),O=Object(a.a)(d,2),f=O[0],y=O[1],S=Object(c.useState)(f[f.length-1].price),N=Object(a.a)(S,2),w=N[0],M=N[1],A=Object(c.useState)(l.coins>0?l.coins*w:null),E=Object(a.a)(A,2),F=E[0],P=E[1],C=Object(c.useState)(new Date),L=Object(a.a)(C,2),B=L[0],I=L[1],V=Object(c.useState)(0),$=Object(a.a)(V,2),z=$[0],T=$[1],W=Object(c.useState)(0),K=Object(a.a)(W,2),J=K[0],U=K[1],X=JSON.stringify(f);Object(c.useEffect)((function(){var e=setInterval((function(){var e=+(w+x(w)).toFixed(2);M(e),f.length>240&&f.shift(),y([].concat(Object(o.a)(f),[{id:Object(v.a)(),timeStamp:(new Date).toISOString().substring(11,19),price:e}])),T(l.coins*e-l.coins*F)}),2e3);return function(){return clearInterval(e)}}),[F,w,f,X,l.coins]);return Object(m.jsxs)("div",{className:"orders",children:[Object(m.jsxs)("div",{className:"logo",children:[Object(m.jsx)(h.a,{style:{height:"6rem",width:"50%",marginLeft:"-70px"}}),Object(m.jsx)(p,{currentPrice:w,PL:z,realizedPL:J})]}),Object(m.jsxs)("div",{className:"header",children:[Object(m.jsxs)("div",{className:"title",children:[Object(m.jsx)(b.a,{style:{height:"2rem",color:"cornflowerblue",verticalAlign:"middle"}}),Object(m.jsxs)("div",{children:[Object(m.jsx)("div",{style:{fontSize:"0.75rem",textAlign:"left",opacity:"0.75"},children:"Wallet"}),Object(m.jsx)(u.a,{decimals:2,duration:D,end:l.coins*w+l.cash,prefix:"$",preserveValue:!0,useEasing:!0})]})]}),Object(m.jsxs)("div",{className:"coins",title:"Coins",children:[Object(m.jsx)(j.a,{style:{height:"2rem",color:"gold",verticalAlign:"middle"}}),Object(m.jsxs)("div",{children:[Object(m.jsxs)("div",{style:{fontSize:"0.75rem",textAlign:"left",opacity:"0.75"},children:[l.coins," coins"]}),Object(m.jsx)(u.a,{decimals:2,duration:D,end:l.coins*w,prefix:"$",preserveValue:!0,useEasing:!0})]})]}),Object(m.jsxs)("div",{className:"cash",title:"Cash",children:[Object(m.jsx)(b.b,{style:{height:"2rem",color:"#43a334",verticalAlign:"middle"}}),Object(m.jsxs)("div",{children:[Object(m.jsx)("div",{style:{fontSize:"0.75rem",textAlign:"left",opacity:"0.75"},children:"Cash"}),Object(m.jsx)(u.a,{decimals:2,duration:D,end:l.cash,prefix:"$",preserveValue:!0,useEasing:!0})]})]})]}),Object(m.jsxs)("div",{className:"actions",children:[Object(m.jsx)("button",{className:"buy",disabled:l.cash<=w,onClick:function(){return function(){var e,i,c=t[t.length-1],a={id:Object(v.a)(),date:new Date,orderNumber:(null!==(e=null===c||void 0===c?void 0:c.orderNumber)&&void 0!==e?e:0)+1,type:n.Buy,price:w};r([].concat(Object(o.a)(t),[a])),s({cash:l.cash-a.price,coins:l.coins+1});var d=[].concat(Object(o.a)(t),[a]).filter((function(e){return e.type===n.Buy&&e.date.getTime()>B.getTime()})).map((function(e){return e.price})),u=null!==(i=d.reduce((function(e,t){return e+t}),0)/d.length)&&void 0!==i?i:0;P(+u.toFixed(2))}()},children:"Buy"}),Object(m.jsx)("button",{className:"sell",disabled:l.coins<=0,onClick:function(){return function(){var e,i=t[t.length-1],c={id:Object(v.a)(),date:new Date,orderNumber:(null!==(e=null===i||void 0===i?void 0:i.orderNumber)&&void 0!==e?e:0)+1,type:n.Sell,price:w};r([].concat(Object(o.a)(t),[c])),s({cash:l.cash+c.price,coins:l.coins-1}),U(J+(c.price-F)),1===l.coins&&(P(null),I(c.date))}()},children:"Sell"})]}),Object(m.jsx)(k,{prices:f,bep:F}),Object(m.jsx)("div",{className:"sales",children:Object(m.jsx)(g,{orders:t.filter((function(e){return e.type===n.Sell})),name:"Sales"})}),Object(m.jsxs)("div",{className:"purchases",children:[Object(m.jsxs)("div",{title:"Break Even Price",style:{position:"absolute",top:"1rem",color:"#eee",textShadow:"rgb(0 0 0) 2px 2px 1px"},children:[Object(m.jsx)("div",{children:"B.E.P."}),Object(m.jsx)("div",{style:{fontSize:"1.25rem"},children:F?Object(m.jsx)(u.a,{preserveValue:!0,end:F,decimals:2,duration:D,useEasing:!0,prefix:"$"}):Object(m.jsx)(m.Fragment,{children:"\u2014"})}),F&&Object(m.jsx)("div",{style:{fontSize:"0.8rem",color:w-F>=0?"#43a334":"#ec5e33"},children:F>0?Object(m.jsx)(u.a,{decimals:2,duration:D,end:w-F,prefix:"$",preserveValue:!0,useEasing:!0}):(0).toFixed(2)})]}),Object(m.jsx)(g,{orders:t.filter((function(e){return e.type===n.Buy})),name:"Purchases"})]})]})};function I(){return Object(m.jsxs)("div",{className:"footer",children:["\xa9 ",(new Date).getFullYear()," Isaac Sanchez"]})}var V=function(e){for(var t=[],i=new Date,n=new Date(i.getTime()-1e3*e),c=0;c<e;c++){var r=new Date(n.getTime()+1e3*c).toISOString().substring(11,19),l=0===c?100:t[c-1].price+x(t[c-1].price);t.push({id:Object(v.a)(),timeStamp:r,price:+l.toFixed(2)})}return t}(240),$=function(){var e=Object(c.useState)([]),t=Object(a.a)(e,2),i=t[0],n=t[1],r=Object(c.useState)(O),l=Object(a.a)(r,2),s=l[0],o=l[1];return Object(m.jsxs)("div",{className:"App",children:[Object(m.jsx)(B,{orders:i,initialPrices:V,setOrders:n,wallet:s,setWallet:o}),Object(m.jsx)(I,{})]})},z=function(e){e&&e instanceof Function&&i.e(3).then(i.bind(null,329)).then((function(t){var i=t.getCLS,n=t.getFID,c=t.getFCP,r=t.getLCP,l=t.getTTFB;i(e),n(e),c(e),r(e),l(e)}))};s.a.render(Object(m.jsx)(r.a.StrictMode,{children:Object(m.jsx)($,{})}),document.getElementById("root")),z()}},[[319,1,2]]]);
//# sourceMappingURL=main.96ae435e.chunk.js.map